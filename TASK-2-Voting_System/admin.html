<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - E-Voting System</title>
    <link rel="stylesheet" href="style.css">
    <style>
      .admin-section { max-width: 480px; margin: 2.5rem auto; background: var(--card-bg); border-radius: var(--radius); box-shadow: var(--shadow); padding: 2.5rem 2rem; }
      .admin-section h2 { text-align: center; margin-bottom: 2rem; }
      .form-group { margin-bottom: 1.5rem; }
      .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
      .form-group input { width: 100%; padding: 0.7rem; border-radius: 0.7rem; border: 1.5px solid var(--border); font-size: 1rem; }
      .candidates-list { margin-bottom: 1.5rem; }
      .candidate-item { display: flex; align-items: center; justify-content: space-between; padding: 0.7rem 0; border-bottom: 1px solid var(--border); }
      .candidate-item:last-child { border-bottom: none; }
      .candidate-actions button { margin-left: 0.5rem; }
      .votes-table { width: 100%; border-collapse: collapse; margin-top: 1.5rem; }
      .votes-table th, .votes-table td { padding: 0.7rem; text-align: left; border-bottom: 1px solid var(--border); }
      .votes-table th { background: #f3f4f6; }
      .reset-btn { background: #ef4444; color: #fff; border: none; border-radius: 1.2rem; padding: 0.5rem 1.5rem; font-weight: 600; cursor: pointer; transition: background 0.2s; }
      .reset-btn:hover { background: #b91c1c; }
      .add-btn { background: var(--accent); color: #fff; border: none; border-radius: 1.2rem; padding: 0.5rem 1.5rem; font-weight: 600; cursor: pointer; transition: background 0.2s; }
      .add-btn:hover { background: #2563eb; }
    </style>
</head>
<body>
    <div id="adminAuth" style="position:fixed;z-index:9999;top:0;left:0;width:100vw;height:100vh;background:rgba(34,34,59,0.13);display:flex;align-items:center;justify-content:center;">
      <div style="background:#fff;padding:2.5rem 2rem;border-radius:1.2rem;box-shadow:0 4px 24px rgba(34,34,59,0.07);min-width:320px;text-align:center;">
        <h2 style="margin-bottom:1.5rem;">Admin Login</h2>
        <input type="password" id="adminPassword" placeholder="Enter admin password" style="padding:0.7rem 1rem;border-radius:0.7rem;border:1.5px solid #e5e7eb;font-size:1rem;width:100%;margin-bottom:1.2rem;">
        <br>
        <button class="add-btn" id="adminLoginBtn">Login</button>
        <p id="adminAuthMsg" style="color:#ef4444;margin-top:1rem;font-size:1rem;display:none;">Incorrect password.</p>
      </div>
    </div>
    <div id="adminContent" style="display:none;">
      <header>
          <h1>Admin Panel</h1>
          <p class="subtitle">Manage Election & Candidates</p>
          <a href="index.html" style="position:absolute;top:2rem;right:2rem;font-size:1rem;font-weight:500;color:#3b82f6;text-decoration:none;transition:color 0.2s;">Back to Voting</a>
      </header>
      <main>
          <section class="admin-section">
              <h2>Election Settings</h2>
              <div class="form-group">
                  <label for="electionName">Election Name</label>
                  <input type="text" id="electionName" placeholder="Enter election name">
              </div>
              <button class="add-btn" id="saveElectionName">Save Election Name</button>

              <h2 style="margin-top:2.5rem;">Candidates</h2>
              <div class="form-group">
                  <input type="text" id="candidateInput" placeholder="Add new candidate">
                  <button class="add-btn" id="addCandidate">Add</button>
              </div>
              <div class="candidates-list" id="candidatesList"></div>

              <h2 style="margin-top:2.5rem;">Vote Counts</h2>
              <table class="votes-table" id="votesTable">
                  <thead><tr><th>Candidate</th><th>Votes</th></tr></thead>
                  <tbody></tbody>
              </table>
              <button class="reset-btn" id="resetVotes" style="margin-top:1.2rem;">Reset All Votes</button>

              <h2 style="margin-top:2.5rem;">All Votes</h2>
              <table class="votes-table" id="allVotesTable">
                  <thead><tr><th>Voter Name</th><th>Candidate</th></tr></thead>
                  <tbody></tbody>
              </table>
          </section>
      </main>
      <div class="toast" id="toast"></div>
    </div>
    <script src="admin.js"></script>
    <script>
      // Simple password protection (password: admin123)
      const adminAuth = document.getElementById('adminAuth');
      const adminLoginBtn = document.getElementById('adminLoginBtn');
      const adminPassword = document.getElementById('adminPassword');
      const adminAuthMsg = document.getElementById('adminAuthMsg');
      function checkAdminPassword() {
        if (adminPassword.value === 'admin123') {
          adminAuth.style.display = 'none';
          document.getElementById('adminContent').style.display = 'block';
        } else {
          adminAuthMsg.style.display = 'block';
        }
      }
      adminLoginBtn.onclick = checkAdminPassword;
      adminPassword.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') checkAdminPassword();
      });
      setTimeout(() => { adminPassword.focus(); }, 200);
    </script>
</body>
</html>
